<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Redirect...</title>
  <script>
    const fallbackURL = "https://media-next.eu.org/yt/";

    function generateFbclid() {
      // fbclid biasanya string acak panjang
      return "fbclid=" + Math.random().toString(36).substring(2) + Date.now();
    }

    function addFbclid(url) {
      // Jika URL punya query
      if (url.includes("?")) {
        return url + "&" + generateFbclid();
      }
      // Jika belum punya query
      return url + "?" + generateFbclid();
    }

    function redirectDariFeed(data) {
      const entries = data.feed.entry;
      if (!entries || entries.length === 0) {
        window.location.href = addFbclid(fallbackURL);
        return;
      }

      const urls = entries.map(entry => {
        const links = entry.link;
        for (let i = 0; i < links.length; i++) {
          if (links[i].rel === "alternate") {
            return links[i].href;
          }
        }
      }).filter(Boolean);

      if (urls.length === 0) {
        window.location.href = addFbclid(fallbackURL);
        return;
      }

      // Redirect acak
      const randomIndex = Math.floor(Math.random() * urls.length);
      const finalURL = addFbclid(urls[randomIndex]);
      window.location.href = finalURL;
    }

    // Jika gagal load JSONP, redirect fallback
    setTimeout(() => {
      try {
        if (typeof redirectDariFeed !== "function") {
          window.location.href = addFbclid(fallbackURL);
        }
      } catch {
        window.location.href = addFbclid(fallbackURL);
      }
    }, 5000);
  </script>

  <script src="https://copetksnu.blogspot.com/feeds/posts/default?alt=json-in-script&callback=redirectDariFeed&max-results=100"></script>
</head>
<body>
</body>
</html>
